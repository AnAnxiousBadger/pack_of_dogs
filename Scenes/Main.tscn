[gd_scene load_steps=12 format=3 uid="uid://dm6thl84wrgq0"]

[ext_resource type="Script" path="res://Scripts/dice_scripts/DiceController.cs" id="1_57n5o"]
[ext_resource type="Script" path="res://Scripts/player_scripts/RealPlayerController.cs" id="1_joypr"]
[ext_resource type="Script" path="res://Scripts/GameController.cs" id="1_m4lkn"]
[ext_resource type="Resource" uid="uid://bafisen3m5w21" path="res://Assets/original_roll_chance.tres" id="2_k6vlu"]
[ext_resource type="PackedScene" uid="uid://cckbt066gn116" path="res://Scenes/classic_board.tscn" id="5_bteu6"]
[ext_resource type="PackedScene" uid="uid://co1b1b74mbd1y" path="res://Scenes/roll_button.tscn" id="7_pnvo5"]
[ext_resource type="Script" path="res://Scripts/UIController.cs" id="13_ar2w6"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_x8bys"]

[sub_resource type="Sky" id="Sky_8x2vi"]
sky_material = SubResource("ProceduralSkyMaterial_x8bys")

[sub_resource type="Environment" id="Environment_o21uq"]
background_mode = 2
sky = SubResource("Sky_8x2vi")
tonemap_mode = 2
ssr_enabled = true
ssao_enabled = true
sdfgi_enabled = true

[sub_resource type="QuadMesh" id="QuadMesh_v8fvy"]
size = Vector2(15, 9)

[node name="ROOT" type="Node3D"]

[node name="game_controller" type="Node3D" parent="." node_paths=PackedStringArray("cam", "uiController", "diceController", "boardController")]
script = ExtResource("1_m4lkn")
cam = NodePath("../Camera3D")
uiController = NodePath("../UI_controller")
diceController = NodePath("../dice_controller")
boardController = NodePath("../classic_board")

[node name="players_container" type="Node" parent="."]

[node name="player_01" type="Node" parent="players_container"]
script = ExtResource("1_joypr")
rollSettings = ExtResource("2_k6vlu")

[node name="player_02" type="Node" parent="players_container"]
script = ExtResource("1_joypr")
rollSettings = ExtResource("2_k6vlu")

[node name="dice_controller" type="Node" parent="." node_paths=PackedStringArray("_rollButton")]
script = ExtResource("1_57n5o")
_rollButton = NodePath("../board_elements/roll_button")

[node name="dice_roll_timer" type="Timer" parent="dice_controller"]
wait_time = 0.25
one_shot = true

[node name="classic_board" parent="." instance=ExtResource("5_bteu6")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -1, 0, 0)

[node name="board_elements" type="Node3D" parent="."]

[node name="roll_button" parent="board_elements" instance=ExtResource("7_pnvo5")]
transform = Transform3D(0.4, 0, 0, 0, 0.4, 0, 0, 0, 0.4, 5, -0.155034, 0)

[node name="Environment" type="Node3D" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Environment"]
transform = Transform3D(0.766045, -0.620885, 0.166366, 0, 0.258819, 0.965926, -0.642788, -0.739942, 0.198267, 0, 1.89, 0)
light_color = Color(1, 1, 0.85098, 1)
shadow_enabled = true
shadow_blur = 3.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="Environment"]
environment = SubResource("Environment_o21uq")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 23, 0)
fov = 20.0
size = 9.209

[node name="UI_controller" type="CanvasLayer" parent="." node_paths=PackedStringArray("_diceRollLabel", "_skipTurnButton", "_turnLabel")]
script = ExtResource("13_ar2w6")
_diceRollLabel = NodePath("UI_root/dice_roll_container/roll_label")
_skipTurnButton = NodePath("UI_root/dice_roll_container/HBoxContainer/skip_button")
_turnLabel = NodePath("UI_root/turn_container/turn_label")

[node name="UI_root" type="Control" parent="UI_controller"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="dice_roll_container" type="VBoxContainer" parent="UI_controller/UI_root"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -178.5
offset_top = -280.0
offset_right = 176.5
grow_horizontal = 2
grow_vertical = 0
alignment = 2

[node name="roll_label" type="Label" parent="UI_controller/UI_root/dice_roll_container"]
layout_mode = 2
theme_override_font_sizes/font_size = 29
text = "Roll!"
horizontal_alignment = 1

[node name="HBoxContainer" type="HBoxContainer" parent="UI_controller/UI_root/dice_roll_container"]
layout_mode = 2
alignment = 1

[node name="roll_button" type="TextureButton" parent="UI_controller/UI_root/dice_roll_container/HBoxContainer"]
layout_mode = 2
disabled = true

[node name="skip_button" type="TextureButton" parent="UI_controller/UI_root/dice_roll_container/HBoxContainer"]
layout_mode = 2
disabled = true

[node name="turn_container" type="VBoxContainer" parent="UI_controller/UI_root"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -150.0
offset_right = 150.0
offset_bottom = 130.0
grow_horizontal = 2

[node name="turn_label" type="Label" parent="UI_controller/UI_root/turn_container"]
layout_mode = 2
theme_override_font_sizes/font_size = 29
text = "X's turn"
horizontal_alignment = 1

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, -0.5, 0)
mesh = SubResource("QuadMesh_v8fvy")
